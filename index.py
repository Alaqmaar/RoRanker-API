import fastapi
import roblox

cookie = '_|WARNING:-DO-NOT-SHARE-THIS.--Sharing-this-will-allow-someone-to-log-in-as-you-and-to-steal-your-ROBUX-and-items.|_FDD4AE518BCE348EC5812CAF3E2739D6C5424ADD15245F7AA5CE41FFC7B34BD8602353065B87501B31D03630F8C4B4FB88ABEE99B66F7D4F78F595B2BF1169A4B1157FEE0D779AEAE162DF109E61757DA1C2F247D4CF016E16AD329E00B8F4B7C779D22AD0E7D3F34E4FCA5516D137295FF854F0EC3105932683224E978DE5F8D3D6F7CCA189652ECF92E4144648FABFF4E807B92582A95C4613E9F1A8C4F10B9952E8075AFDCED12F3F25E7C1602ECE3B1E88EDC692DDBCECB09420D34A83B2AEA5B389612C2A99504BEB3FD7C149C7708BD674E0EC3234A1558237A58F400BD99888D9E54DE8C62A4161F88803F3166108F9423131A57C226173FC078F1462035103E7978BB0EE2E241144335A51C578F2CAA81FE615CF9CF9E72EFE3A3042BF086816FCEA678B0BAB2EF4A44B8A487465D1B0FEB992D07D0D7AE62B6938E2955A2BB5BC352F9BF35E1DE83502247AB024F96E'
authKey = 'Man5BrdHAs'

app = fastapi.FastAPI()
client = roblox.Client(cookie)

@app.get('/')
def main():
    return

@app.get('/{playerUsername}/{groupId}/{toRank}/{key}')
async def setRank(playerUsername: str, groupId: int, toRank: int, key: str):

    if key == authKey:
        group = await client.get_group(groupId)
        member = await group.get_member_by_username(playerUsername)

        await member.set_rank(toRank)
